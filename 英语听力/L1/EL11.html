<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>选择判断器</title>
    <style>
        #q1, #q2, #q3, #q4, #q5 {color: brown; font-size: 24px;}
        audio {display: none;} /* 隐藏音频控件 */
    </style>
</head>
<body>
    <h1>2025九年级英语听力口语测试</h1>
    <form id="quiz-form">
        <!-- 开始播放按钮 -->
        <button type="button" onclick="playNextAudio()">开始播放</button>

        <!-- 第一题 -->
        <div>
            <audio id="audio-q1" src="../1/1.1.1.mp3" onended="handleAudioEnded()">
                您的浏览器不支持 audio 标签。
            </audio>
            <p id="q1">1. What do people usually do when they talk?</p>
            <input type="radio" id="q1a" name="q1" value="A">
            <label for="q1a">A. <span class="option-text">Look at each other.</span></label><br>
            <input type="radio" id="q1b" name="q1" value="B">
            <label for="q1b">B. <span class="option-text">Touch others.</span></label><br>
            <input type="radio" id="q1c" name="q1" value="C">
            <label for="q1c">C. <span class="option-text">Stand close.</span></label><br>
        </div>
        <hr>

        <!-- 第二题 -->
        <div>
            <audio id="audio-q2" src="../1/1.1.2.mp3" onended="handleAudioEnded()">
                您的浏览器不支持 audio 标签。
            </audio>
            <p id="q2">2. Which city may Betty visit?</p>
            <input type="radio" id="q2a" name="q2" value="A">
            <label for="q2a">A. <span class="option-text">Sydney.</span></label><br>
            <input type="radio" id="q2b" name="q2" value="B">
            <label for="q2b">B. <span class="option-text">Chongqing.</span></label><br>
            <input type="radio" id="q2c" name="q2" value="C">
            <label for="q2c">C. <span class="option-text">New York.</span></label><br>
        </div>
        <hr>

        <!-- 第三题 -->
        <div>
            <audio id="audio-q3" src="../1/1.1.3.mp3" onended="handleAudioEnded()">
                您的浏览器不支持 audio 标签。
            </audio>
            <p id="q3">3. How did Betty feel when she was in Yingkou?</p>
            <input type="radio" id="q3a" name="q3" value="A">
            <label for="q3a">A. <span class="option-text">Happy.</span></label><br>
            <input type="radio" id="q3b" name="q3" value="B">
            <label for="q3b">B. <span class="option-text">Bored.</span></label><br>
            <input type="radio" id="q3c" name="q3" value="C">
            <label for="q3c">C. <span class="option-text">Excited.</span></label><br>
        </div>
        <hr>

        <!-- 第四题 -->
        <div>
            <audio id="audio-q4" src="../1/1.1.4.mp3" onended="handleAudioEnded()">
                您的浏览器不支持 audio 标签。
            </audio>
            <p id="q4">4. Where is Quincy?</p>
            <input type="radio" id="q4a" name="q4" value="A">
            <label for="q4a">A. <span class="option-text">On the west coast of America.</span></label><br>
            <input type="radio" id="q4b" name="q4" value="B">
            <label for="q4b">B. <span class="option-text">On the east coast of America.</span></label><br>
            <input type="radio" id="q4c" name="q4" value="C">
            <label for="q4c">C. <span class="option-text">On the south coast of Australia.</span></label><br>
        </div>
        <hr>

        <!-- 第五题 -->
        <div>
            <audio id="audio-q5" src="../1/1.1.5.mp3" onended="handleAudioEnded()">
                您的浏览器不支持 audio 标签。
            </audio>
            <p id="q5">5. When did he have his first piano concert?</p>
            <input type="radio" id="q5a" name="q5" value="A">
            <label for="q5a">A. <span class="option-text">At the age of thirteen.</span></label><br>
            <input type="radio" id="q5b" name="q5" value="B">
            <label for="q5b">B. <span class="option-text">At the age of 6.</span></label><br>
            <input type="radio" id="q5c" name="q5" value="C">
            <label for="q5c">C. <span class="option-text">At the age of 7.</span></label><br>
        </div>
        <hr>

        <!-- 提交按钮 -->
        <button type="button" onclick="saveUserAnswers()">保存答案</button><br>
        <a href="./EL12.html">下一题</a>
    </form>

    <script>
        function saveUserAnswers() {
            let userAnswers = [
                document.querySelector('input[name="q1"]:checked')?.value || "",
                document.querySelector('input[name="q2"]:checked')?.value || "",
                document.querySelector('input[name="q3"]:checked')?.value || "",
                document.querySelector('input[name="q4"]:checked')?.value || "",
                document.querySelector('input[name="q5"]:checked')?.value || ""
            ];

            // 设置cookie存储用户答案
            setCookie("userAnswers", JSON.stringify(userAnswers), 1);

            alert('答案已保存，请前往下一题。');
        }

        function setCookie(name, value, days) {
            let expires = "";
            if (days) {
                const date = new Date();
                date.setTime(date.getTime() + (days*24*60*60*1000));
                expires = "; expires=" + date.toUTCString();
            }
            document.cookie = name + "=" + (value || "")  + expires + "; path=/";
        }

        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
        }
    </script>
</body>
</html>
